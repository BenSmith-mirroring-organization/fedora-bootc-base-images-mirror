# Demonstration base images for Project Sagano

This is part of [Project Sagano](https://gitlab.com/CentOS/cloud/issue-tracker/-/blob/main/README.md).

These images are technology demonstrators, not for production use.  The intention is that these images are
generated by the OS vendor or distribution.  Or, you can fork this repository and generate your own
via `rpm-ostree compose image`.

## Available images

### Fedora 38

[registry.gitlab.com/cgwalters-playground/bootc-demo-base-images/fedora-boot:latest](https://gitlab.com/cgwalters-playground/bootc-demo-base-images/container_registry/4567470)


### CentOS Stream 9

[registry.gitlab.com/cgwalters-playground/bootc-demo-base-images/c9s-boot](https://gitlab.com/cgwalters-playground/bootc-demo-base-images/container_registry/4567470)

## What's in them?

The [current manifest definitions](tier-1/) were forked from Fedora CoreOS, but significantly
cut down.

The existing content set is obviously subject to change and debate.

Ideally, we support a workflow where even `rpm-ostree` can be removed after builds.

# Building

Here's an example command:

```
$ sudo rpm-ostree compose image --authfile ~/.config/containers/myquay.json --cachedir=cache -i --format=oci fedora.yaml fedora.oci
```

More information at https://coreos.github.io/rpm-ostree/container/

# Plan

## Phase 0

- Merge this repository into https://gitlab.com/fedora/boot-container-base (e.g.)
- Add these images to Fedora, but in the `fedoraci` namespace, [like ELN](https://docs.fedoraproject.org/en-US/eln/deliverables/).
- The images are [built via Pungi](https://pagure.io/pungi/pull-request/1699)
- The [sync container script](https://pagure.io/releng/pull-request/11180) is modified to include this
- Add this to CI tooling in Fedora

## Phase 1

- Change [fedora-coreos-config](https://github.com/coreos/fedora-coreos-config/) to inherit from this as a git submodule
- (?) Fork https://gitlab.com/fedora/boot-container-base into something under https://gitlab.com/CentOS/cloud/ and start building C9S versions there?
- https://gitlab.com/redhat/centos-stream

